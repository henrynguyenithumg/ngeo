webpackJsonp([36],{431:function(t,e,i){i(9),t.exports=i(432)},432:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(433),i(10);var o=g(i(81)),n=g(i(18)),a=g(i(12)),r=g(i(16)),s=g(i(36)),l=g(i(24)),d=g(i(71)),u=g(i(29)),p=g(i(66)),f=g(i(25)),c=g(i(15)),h=g(i(287));function g(t){return t&&t.__esModule?t:{default:t}}var m={};m.module=angular.module("app",[c.default.name,h.default.name]),m.MainController=function(t,e){var i=this;this.scope_=e;var c=new f.default;this.map=new a.default({layers:[new d.default({source:new p.default({url:"http://wms.geo.admin.ch/",crossOrigin:"anonymous",attributions:'&copy; <a href="http://www.geo.admin.ch/internet/geoportal/en/home.html">Pixelmap 1:500000 / geo.admin.ch</a>',params:{LAYERS:"ch.swisstopo.pixelkarte-farbe-pk1000.noscale",FORMAT:"image/jpeg"},serverType:"mapserver"})}),new u.default({source:c})],view:new r.default({projection:o.default,extent:[42e4,3e4,9e5,35e4],zoom:0,center:[0,0]})});var h=this.map,g=new u.default({source:new f.default});this.snappedPoint_=new n.default,g.getSource().addFeature(this.snappedPoint_),g.setMap(h),this.profilePoisData=[{sort:1,dist:1e3,title:"First POI",id:12345},{sort:2,dist:3e3,title:"Second POI",id:12346}],this.profileData=void 0,t.get("data/profile.json").then(function(t){var e=t.data.profile;i.profileData=e;var o=void 0,a=e.length,r=new s.default([],"XYM");for(o=0;o<a;o++){var l=e[o];r.appendCoordinate([l.x,l.y,l.dist])}c.addFeature(new n.default(r));var d=i.map.getSize();h.getView().fit(c.getExtent(),{size:d})}),h.on("pointermove",function(t){if(!t.dragging){var e=h.getEventCoordinate(t.originalEvent);i.snapToGeometry(e,c.getFeatures()[0].getGeometry())}});var m=function(t,e,i){return function(t){return void 0!==i&&(t=t[i]),t[e]}},v=m(0,"dist"),w={line1:{style:{},zExtractor:m(0,"mnt","values")}},y={sort:m(0,"sort"),id:m(0,"id"),dist:m(0,"dist"),title:m(0,"title"),z:function(t,e){return void 0!==e&&(t.z=e),t.z}},C=function(t){this.point=t,this.snappedPoint_.setGeometry(new l.default([t.x,t.y]))}.bind(this),M=function(){this.point=null,this.snappedPoint_.setGeometry(null)}.bind(this);this.profileOptions={distanceExtractor:v,linesConfiguration:w,poiExtractor:y,hoverCallback:C,outCallback:M},this.point=null,this.profileHighlight=void 0},m.MainController.$inject=["$http","$scope"],m.MainController.prototype.snapToGeometry=function(t,e){var i=e.getClosestPoint(t),o=i[0]-t[0],n=i[1]-t[1],a=Math.sqrt(o*o+n*n)/this.map.getView().getResolution();this.profileHighlight=a<8?i[2]:-1,this.scope_.$apply()},m.module.controller("MainController",m.MainController),e.default=m},433:function(t,e){}},[431]);
//# sourceMappingURL=elevationProfile.147e840912cae15632db.js.map