!function(e){function t(t){for(var n,l,u=t[0],p=t[1],i=t[2],c=0,f=[];c<u.length;c++)l=u[c],o[l]&&f.push(o[l][0]),o[l]=0;for(n in p)Object.prototype.hasOwnProperty.call(p,n)&&(e[n]=p[n]);for(s&&s(t);f.length;)f.shift()();return a.push.apply(a,i||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,u=1;u<r.length;u++){var p=r[u];0!==o[p]&&(n=!1)}n&&(a.splice(t--,1),e=l(l.s=r[0]))}return e}var n={},o={20:0},a=[];function l(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=n,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},l.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var u=window.webpackJsonp=window.webpackJsonp||[],p=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var s=p;a.push([372,0]),r()}({371:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(519),r(34);var n=c(r(39)),o=c(r(49)),a=c(r(48)),l=c(r(60)),u=c(r(370)),p=c(r(273)),i=c(r(47)),s=c(r(234));function c(e){return e&&e.__esModule?e:{default:e}}var f,d={};d.module=angular.module("app",[p.default.name,i.default.name,s.default.module.name]),d.layertreeComponent={bindings:{map:"=appLayertreeMap"},controller:"AppLayertreeController",template:'<div ngeo-layertree="::$ctrl.tree" ngeo-layertree-templateurl="partials/layertree.html" ngeo-layertree-map="$ctrl.map" ngeo-layertree-nodelayer="$ctrl.getLayer(node)"></div>'},d.module.component("appLayertree",d.layertreeComponent),d.LayertreeController=function(e,t,r,n){var o=this;this.tree=void 0,e.get("data/tree.json").then(function(e){o.tree=e.data}),this.http_=e,this.sce_=t,this.getLayer_=r,this.infoPopup_=n(),this.promises_={}},d.LayertreeController.$inject=["$http","$sce","appGetLayer","ngeoCreatePopup"],d.LayertreeController.prototype.getLayer=function(e){return this.getLayer_(e)},d.LayertreeController.prototype.onButtonClick=function(e,t){var r=this,n=e.layerType;n in this.promises_||(this.promises_[n]=this.http_.get("data/metadata.html").then(function(e){return r.sce_.trustAsHtml(e.data)}));var o=this.infoPopup_;this.promises_[n].then(function(t){o.setTitle(e.name),o.setContent(t),o.setOpen(!0)})},d.module.controller("AppLayertreeController",d.LayertreeController),d.getLayer=(f={},function(e){if(!("layerType"in e))return null;var t=e.layerType;if(t in f)return f[t];var r=void 0;r="stamenWatercolor"==t?new u.default({layer:"watercolor"}):"stamenTerrain-labels"==t?new u.default({layer:"terrain-labels"}):"osmHumanitarian"==t?new l.default({url:"https://tile-{a-c}.openstreetmap.fr/hot/{z}/{x}/{y}.png"}):"osmCycle"==t?new l.default({url:"https://{a-c}.tile.thunderforest.com/cycle/{z}/{x}/{y}.png"}):"osmTransport"==t?new l.default({url:"https://{a-c}.tile.thunderforest.com/transport/{z}/{x}/{y}.png"}):new l.default;var n=new a.default({source:r});return n.set("type",t),f[t]=n,n}),d.module.value("appGetLayer",d.getLayer),d.MainController=function(){this.map=new n.default({layers:[new a.default({source:new l.default})],view:new o.default({center:[-10983710.59086991,4686507.078220731],zoom:4})})},d.module.controller("MainController",d.MainController),t.default=d},372:function(e,t,r){r(35),e.exports=r(371)},519:function(e,t){}});
//# sourceMappingURL=layertree.bdf9ac0a59fdb1ce97b8.js.map